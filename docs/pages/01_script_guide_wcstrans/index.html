<!DOCTYPE HTML>
<html lang="en" >
    <head><meta charset="UTF-8">
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"><title>네이버광고 전환분석 Script 설치가이드 (wcs.trans버전) · 네이버광고 전환분석 가이드</title><meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="description" content="conversion script install guide wcs.trans"><meta name="generator" content="Jekyll (using style of GitBook)"><link rel="stylesheet" href="/conversion-tracking/assets/gitbook/style.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/gitbook-plugin-fontsettings/website.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/gitbook-plugin-search-pro/search.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/gitbook-plugin-splitter/splitter.css">

<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/rouge/github.css">

<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/custom.css">
<link rel="stylesheet" href="/conversion-tracking/assets/gitbook/custom-local.css">

<meta name="HandheldFriendly" content="true"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="/conversion-tracking/assets/gitbook/images/apple-touch-icon-precomposed-152.png">
<link rel="shortcut icon" href="/conversion-tracking/" type="image/x-icon">




            <link rel="prev" href="/conversion-tracking/" />
        

        
            <link rel="next" href="/conversion-tracking/pages/02_ecom_platform_guide/" />
        
    </head>
    <body>
        <div class="book"><div class="book-summary">
    <script type="text/javascript">
        // Fixes the page links scroll problem on both desktop and mobile browsers
        function pageScrollToTop(element) {
            // both mobile and non-mobile
            $('div.body-inner').animate({scrollTop: 0});
            $(element).parent().find('li>ul>li').removeClass('active');
            return true;  // propagate
        }
        // Fixes the anchor links scroll problem on mobile browsers
        function mobilePageScrollToAnchor(element) {
            $(element).closest('li.chapter').find('ul>li').removeClass('active');
            $(element).parent().addClass('active');
            if ($(document).width() <= 1240) {
                let target = $($(element).attr('href'));
                if (target.length) {
                    $('div.body-inner').animate({
                        scrollTop: target.get(0).offsetTop,
                    });
                }
            }
            return true;
        }
    </script>

    <nav role="navigation">
        <div id="book-search-input" role="search">
            <input type="text" placeholder="Type to search" />
        </div>
        <div id="book-search-input-link" role="search">
            <a href="/conversion-tracking/assets/search.html">Click to Search</a>
        </div>
        <ul class="summary">
            
            <li class="chapter" data-level="1.1" data-path="/conversion-tracking">
            
                <a href="/conversion-tracking/" onclick="pageScrollToTop(this)">
                    네이버광고 전환분석 가이드
                </a>
            </li>

            <li class="divider"></li>

            
                
                    <!-- <p>pages</p> -->
                    
                        

                        
                            
                            <li class="chapter active" data-level="1.2" data-path="/conversion-tracking/pages/01_script_guide_wcstrans/">
                            
                                <a href="/conversion-tracking/pages/01_script_guide_wcstrans/" onclick="pageScrollToTop(this)">
                                    네이버광고 전환분석 Script 설치가이드 (wcs.trans버전)
                                </a>
                                
                                    
                                        <ul><li><a href="#1-개요" onclick="mobilePageScrollToAnchor(this)" >1. 개요</a><ul><li><a href="#11-본-문서의-대상-서비스-및-목적" onclick="mobilePageScrollToAnchor(this)" >1.1. 본 문서의 대상 서비스 및 목적</a></li></ul></li><li><a href="#2-script-스펙" onclick="mobilePageScrollToAnchor(this)" >2. Script 스펙</a><ul><li><a href="#21-script-전체-구조" onclick="mobilePageScrollToAnchor(this)" >2.1. Script 전체 구조</a></li><li><a href="#22-script의-각-구역별-설명" onclick="mobilePageScrollToAnchor(this)" >2.2. Script의 각 구역별 설명</a></li><li><a href="#23-pvpage-view-이벤트" onclick="mobilePageScrollToAnchor(this)" >2.3. PV(page view) 이벤트</a></li><li><a href="#24-전환conversion-이벤트" onclick="mobilePageScrollToAnchor(this)" >2.4. 전환(conversion) 이벤트</a><ul><li><a href="#241-전환이벤트를-전송하는-script의-모습" onclick="mobilePageScrollToAnchor(this)" >2.4.1. 전환이벤트를 전송하는 Script의 모습</a></li><li><a href="#242-전환이벤트-종류-및-property-설명" onclick="mobilePageScrollToAnchor(this)" >2.4.2. 전환이벤트 종류 및 Property 설명</a></li></ul></li><li><a href="#25-전환이벤트-와-property-및-pvpage-view이벤트-전송-script-예시" onclick="mobilePageScrollToAnchor(this)" >2.5. 전환이벤트 와 Property 및 PV(page view)이벤트 전송 Script 예시</a></li></ul></li></ul>

                                    
                                
                            </li>
                        
                            
                            <li class="chapter" data-level="1.1" data-path="/conversion-tracking/pages/02_ecom_platform_guide/">
                            
                                <a href="/conversion-tracking/pages/02_ecom_platform_guide/" onclick="pageScrollToTop(this)">
                                    네이버광고 전환분석을 위한 임대몰 설정가이드
                                </a>
                                
                                    
                                
                            </li>
                        

                        
                            <li class="divider"></li>
                        
                    
                
                    <!-- <p>posts</p> -->
                    
                        

                        

                        
                    
                
            
        </ul>
    </nav>
</div>
<div class="book-body">
                <div class="book-header" role="navigation">
                    <!-- Title -->
                    <h1>
                        <i class="fa fa-circle-o-notch fa-spin"></i>
                        
                            <a href="." >네이버광고 전환분석 Script 설치가이드 (wcs.trans버전)</a>
                        
                    </h1>
                </div>

                <div class="body-inner"><div class="page-wrapper" tabindex="-1" role="main">
    

    <div class="page-inner">
        <div id="book-search-results">
            <div class="search-noresults">
                <section class="normal markdown-section">
                    
                        <h1 id="/pages/01_script_guide_wcstrans">네이버광고 전환분석 Script 설치가이드 (wcs.trans버전)</h1>
                    

                    <hr />

<h1 id="1-개요">1. 개요</h1>
<h2 id="11-본-문서의-대상-서비스-및-목적">1.1. 본 문서의 대상 서비스 및 목적</h2>

<p>본 문서는 네이버 검색광고(SA)의 프리미엄로그분석, 네이버 성과형디스플레이광고(GFA)의 전환추적 서비스를 이용하기 위하여 광고주 사이트에 설치하는 Script에 대한 가이드를 제공하는 것을 목적으로 합니다. </p>

<blockquote class="block-warning">
  <h5 id="warning">WARNING</h5>
  <p>Script 설치시, 네이버 광고에서 제공하는 Script는 1개 종류만 설치가 되어야 합니다.<br />
본 문서에서 기술하는 Script와 기존 버전의 광고 Script가 함께 있다면 중복으로 전환이벤트가 발생할 수 있으며, 이에 따라 광고 보고서에도 중복으로 전환이 집계될 수 있으므로 주의가 필요합니다.</p>
</blockquote>

<hr />

<h1 id="2-script-스펙">2. Script 스펙</h1>
<h2 id="21-script-전체-구조">2.1. Script 전체 구조</h2>

<p>Script의 개략의 구조는 다음과 같습니다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
(1) wcslog.js import
(2) 각 사이트별 식별자 설정 (=네이버공통키, na_account_id)
(3) 광고 전환추적을 위한 cookie domain설정
(4) PV(page view)이벤트 전송
(5) 전환이벤트 전송

</code></pre></div></div>

<p>(1), (2), (3)은 모든 페이지에 공통적으로 설정되어야 하는 부분 이며,
(4)번, (5번) 은 각 화면의 성격에 따라 필요시 들어가는 이벤트 들에 대한 Script 입니다. (PV이벤트는 기본적으로 모든 페이지에서 실행이 되어야 합니다.)</p>

<p>예를 들어, 결제완료 페이지가 별도로 있는 경우, 페이지에 대한 PV(page view)이벤트  및 결제완료이벤트 가 발생해야 하는데, 
이를 pseudo-code로 설명하면 다음과 같습니다. ( (4)는 PV이벤트 전송, (5)는 결제완료 이벤트 전송 )</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// (1) wcslog.js import
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>      <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-domain</span><span class="dl">"</span><span class="p">);</span>
 
    <span class="c1">// 아래 Script는 개별 이벤트 발생시 로그를 전송하기 위한 구역. 결제 완료 페이지이므로, PV 이벤트 와 결제완료 전환 이벤트를 전송함</span>
 
    <span class="c1">// (4) PV 이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV 이벤트 전송</span>
 
    <span class="c1">// (5) 결제완료 전환 이벤트 전송</span>
    <span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 이벤트 정보를 담을 object 생성</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// object에 구매(purchase) 이벤트 세팅</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">...</span> <span class="c1">// 구매(purchase) 이벤트에 대한 세부 내용(Property) 세팅</span>
 
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 이벤트 정보를 담은 object를 서버에 전송</span>
 <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>위 Script구조의 각 구역번호별 개략적인 설명은 다음과 같습니다.</p>

<table>
  <thead>
    <tr>
      <th>번호</th>
      <th>설명</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>(1)</td>
      <td>이벤트 설정, 로그전송 등의 method를 가지고 있는 wcslog.js Script import</td>
    </tr>
    <tr>
      <td>(2)</td>
      <td>각 사이트별 식별자 설정 (=네이버공통키, na_account_id)</td>
    </tr>
    <tr>
      <td>(3)</td>
      <td>광고전환 추적을 위한 유입정보 저장 목적의 cookie domain 설정 및 cookie 저장</td>
    </tr>
    <tr>
      <td>(4)</td>
      <td>PV이벤트 전송</td>
    </tr>
    <tr>
      <td>(5)</td>
      <td>전환이벤트 전송 (이벤트와 함께 전송되는 가능한 meta정보들에 대해서는 추가 설명)</td>
    </tr>
  </tbody>
</table>

<p>위 구조에서 사이트에 따라, 사이트 화면의 종류/수집하고자 하는 전환이벤트에 따라 달라지는 정보에 대한 상세 설명은 다음 챕터에서 설명합니다.</p>

<hr />
<h2 id="22-script의-각-구역별-설명">2.2. Script의 각 구역별 설명</h2>

<p>위 Script 구조의 각 구역번호별로 Script 설치 방법에 대해 구체적으로 설명드립니다.</p>

<h4 id="1-wcslogjs-import">(1) wcslog.js import</h4>
<p>wcslog.js는 각종 이벤트를 수집하고 서버로 전송하는 method를 가지고 있는 javascript library입니다. 이 library를 import합니다.
(이 library를 import하지 않는 경우 script는 정상동작하지 않습니다.)</p>

<h4 id="2-각-사이트별-식별자네이버공통키-na_account_id-설정">(2) 각 사이트별 식별자(=네이버공통키, na_account_id) 설정</h4>
<p>각 사이트별 식별자(=네이버공통키, na_account_id)입니다. 광고플랫폼에서 전환분석을 신청하면 사이트별 식별자가 지정됩니다. 이 값을  ‘AccountId’부분에  넣으시면 됩니다. (광고플랫폼의 전환분석 메뉴를 통해 신청 다음날 확인 가능하거나 혹은 전환분석 신청시 기재한 담당자에게 전달되는 메일에서 확인이 가능합니다.)</p>

<blockquote class="block-tip">
  <h5 id="tip">TIP</h5>
  <p>각 사이트별 식별자 (=네이버공통키, na_account_id) 확인 방법
로그 분석 서비스를 신청하고 (영업일 기준)1~2일 뒤에 네이버공통키(na_account_id)가 발급됩니다. 발급받은 네이버공통키는 다음과 같은 방법으로 확인할 수 있습니다.<br />
(i) 네이버 검색광고의 경우 <br />
 . 검색광고시스템의 [도구 &gt; 프리미엄 로그 분석] 메뉴에서 [서비스 사용 현황 전체] 탭을 클릭해 [네이버공통키] 칼럼에 있는 값을 확인합니다.<br />
(ii) 네이버 성과형디스플레이광고의 경우<br />
 . 광고관리시스템의 [도구 &gt; 전환 추적 관리] 메뉴에서 사이트를 선택하면 세부내용이 나오는 창에서 확인합니다.<br />
(iii) 공통 (메일을 통해 확인)<br />
 . 로그 분석 서비스를 신청한 다음날(영업일 기준)에 신청 시 기재한 메일 주소 혹은 광고주 메일 주소로 전달된 메일에서 확인합니다.<br /></p>
</blockquote>

<h4 id="3-광고전환-추적을-위한-cookie-domain설정">(3) 광고전환 추적을 위한 cookie domain설정</h4>
<p>광고유입정보를 저장하기 위한 cookie에 대한 domain을 설정합니다. 일반적으로 최상위 domain 값을 넣으시면 됩니다. 
예를 들어, 사이트가 <code class="language-plaintext highlighter-rouge">www.abc-motors.com</code> 이라면, site-domain 부분에 <code class="language-plaintext highlighter-rouge">abc-motors.com</code>을 입려해주시면 됩니다.</p>

<blockquote class="block-warning">
  <h5 id="warning-1">WARNING</h5>
  <p>만약 다른 사이트와 내 사이트가 sub domain 혹은 sub path 로 구분이 된다면 sub domain 혹은 sub path 까지 포함된 host 값을 site-domain부분에 넣어주시기 바랍니다 </p>

  <p>예1) sub domain으로 내 사이트와 다른 사이트가 구분이 되는 경우. 내 사이트는 <code class="language-plaintext highlighter-rouge">aaa.abc.com</code> 인데, 타 사이트는 <code class="language-plaintext highlighter-rouge">bbb.abc.com</code> 일 때<br />
=&gt; cookie domain: <code class="language-plaintext highlighter-rouge">aaa.abc.com</code> 을 넣습니다.</p>

  <p>예2) sub path로 내 사이트와 다른 사이트가 구분이 되는 경우. 내 사이트는 <code class="language-plaintext highlighter-rouge">www.abc.com/aaa</code> 인데, 타 사이트는 <code class="language-plaintext highlighter-rouge">www.abc.com/bbb</code> 일 때
=&gt; cookie domain: <code class="language-plaintext highlighter-rouge">www.abc.com/aaa</code> 를 넣습니다.</p>
</blockquote>

<h4 id="4-pvpage-view-이벤트-전송">(4) PV(page view) 이벤트 전송</h4>
<p>PV이벤트를 서버로 전송합니다. 별다른 설정이 필요하지 않습니다.</p>

<h4 id="5-전환이벤트-전송">(5) 전환이벤트 전송</h4>
<p>전환이벤트를 전송하는 구역입니다. 
전환이벤트의 종류는 총 24종 + 사용자정의(custom) 10개 입니다. 
이에 대한 내역 및 사용방법은 [2.4. 전환이벤트] 챕터에서 설명드립니다</p>

<hr />
<h2 id="23-pvpage-view-이벤트">2.3. PV(page view) 이벤트</h2>
<p>PV(page view)이벤트는 페이지가 열릴 때 해당 페이지의 URL, referrer등에 대한 정보를 수집서버로 전송하는 이벤트로, 로그 전송에 별다른 특별한 설정이 요구되지 않습니다. 
PV이벤트 전송을 위해서는, 기본 설정 ( (1), (2), (3) ) 후, wcs_do() method만 실행하면 됩니다.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// (1) wcslog.js import
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
 
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>      <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-domain</span><span class="dl">"</span><span class="p">);</span>
 
    <span class="c1">// 아래 Script는 개별 이벤트 발생시 로그를 전송하기 위한 구역. 결제 완료 페이지이므로, PV 이벤트 와 결제완료 전환 이벤트를 전송함</span>
 
    <span class="c1">// (4) PV 이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV 이벤트 전송</span>
 <span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>PV이벤트 와 전환이벤트를 함께 전송하는 경우(예: 구매완료 페이지)에 대해서는 다음 챕터에서 설명드리겠습니다.</p>

<hr />

<p> 
 
 
 </p>
<h2 id="24-전환conversion-이벤트">2.4. 전환(conversion) 이벤트</h2>

<h3 id="241-전환이벤트를-전송하는-script의-모습">2.4.1. 전환이벤트를 전송하는 Script의 모습</h3>
<p>전환이벤트 1개를 수집서버로 전송하는 Script의 전체 모습을 예시를 통해 보면 다음과 같습니다.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// (5) 전환 이벤트 전송, (예) 결제완료 이벤트 전송</span>
 
<span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 전환 이벤트 정보 담을 object 생성</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// 전환 이벤트의 종류 설정</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxxnn</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 전환 ID, 이용자가 한 행동에 대한 ID (예: 주문번호). 없을 경우 생성하지 않거나, null, '' 등 으로 설정</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[</span>       <span class="c1">// 전환 이벤트 행동의 내용 및 대상에 대한 정보 기술</span>
      <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c12354</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">naverMenShoes123</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//string 상품 명 (필수)</span>
            <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fashion/men/shoes</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">//string 카테고리</span>
            <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
            <span class="na">payAmount</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수)</span>
            <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">color:black, size:260</span><span class="dl">"</span> <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c23456</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
            <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">naverWomenShoes234</span><span class="dl">"</span><span class="p">,</span>      <span class="c1">//string 상품 명 (필수)</span>
            <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fashion/women/shoes</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//string 카테고리</span>
            <span class="na">quantity</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
            <span class="na">payAmount</span><span class="p">:</span> <span class="mi">30000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수)</span>
            <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">color:red, size:240</span><span class="dl">"</span>   <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
        <span class="p">}</span>
<span class="p">];</span> 
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">50000</span><span class="dl">"</span><span class="p">;</span>
 
<span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환 이벤트 정보를 담은 object를 서버에 전송</span>
</code></pre></div></div>

<h4 id="최소필수스펙">최소(필수)스펙</h4>
<p>일반적으로 전환이벤트를 전송하기 위한, 최소(필수) 스펙은 다음과 같습니다.</p>
<ul>
  <li>구매(purchase)의 경우 <strong>전환이벤트코드</strong> 및 <strong>전환가치(_conv.value)</strong> 2가지가 필수스펙입니다.</li>
  <li>그 외 전환이벤트 에서는, <strong>전환이벤트코드</strong>만 넣으시면 됩니다.</li>
</ul>

<p>구매(purchase)의 경우, 최소필수스펙 예시</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// (5) 전환이벤트 전송, (예) 결제완료 이벤트 전송</span>
 
<span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 전환이벤트 정보 담을 object 생성</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// 전환이벤트의 종류 설정</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">50000</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// 결제에 여러개 상품을 구매했다면 여기에 금액 합계</span>
 
<span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환이벤트 정보를 담은 object를 서버에 전송</span>
</code></pre></div></div>

<p>구매(purchase) 외 다른 전환이벤트의 경우, 최소필수스펙 예시</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// (5) 전환이벤트 전송, (예) 신청완료 이벤트 전송</span>
 
<span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 전환이벤트 정보 담을 object 생성</span>
 
<span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">lead</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// 전환이벤트의 종류 설정</span>
 
<span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환이벤트 정보를 담은 object를 서버에 전송</span>
</code></pre></div></div>

<hr />
<h4 id="-네이버-다이내믹광고naver-dynamic-ad를-사용하시는-경우-최소필수스펙"><strong>※ 네이버 다이내믹광고(Naver Dynamic Ad)를 사용하시는 경우 최소(필수)스펙</strong></h4>

<p>네이버 다이내믹광고(Naver Dynamic Ad) 상품을 이용하시는 경우, 사이트에 설치되어야 하는 Script 필수스펙이 위에서 기술된 내용보다 더 많습니다.</p>

<p>(a) 네이버 다이내믹광고(NDA)상품 이용시, 사이트에는 아래 5가지 전환이벤트가 모두 설치되어야 원활한 광고 노출이 가능합니다.</p>
<ul>
  <li>구매완료(purchase)</li>
  <li>결제시작(begin_checkout)</li>
  <li>장바구니담기(add_to_cart)</li>
  <li>상품찜/저장(add_to_wishlist)</li>
  <li>상품상세보기(view_product)</li>
</ul>

<blockquote class="block-tip">
  <h5 id="tip-1">TIP</h5>
  <p>위 전환이벤트 용 Script를 사이트에 삽입할 때, 사이트에서 해당 행동의 시작 시점(예: 장바구니 버튼 클릭) 보다는, 해당 행동이 실제 완료되었을 때(예: 장바구니에 실제로 담기는 것이 완료되었을 때) Script가 동작하도록 구현하시는 것을 권장드립니다. 
(행동이 실제 완료되었을 때 Script가 동작하도록 구현하는 것이 어려운 경우, 버튼 클릭과 같은 행동의 시작시점에 Script가 동작하도록 구현하시는 것도 가능합니다)</p>
</blockquote>

<p>(b) 위 전환이벤트를 설치하실 때, 각 전환이벤트에 대한 최소필수 property는 [상품ID](=item.id) 입니다.<br />
(상품 ID는 네이버 쇼핑 상품EP(Engine Page)로 전달하는 상품ID(id 컬럼으로 연동하는 값)와 동일해야 합니다.)</p>

<p>NDA광고상품을 사용하시는 경우, 구매완료(purchase)이벤트에 대한 최소 필수 스펙을 코드로 나타내면 다음과 같습니다.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// (1) wcslog.js import
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
 
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>    <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-host</span><span class="dl">"</span><span class="p">);</span>
 
    <span class="c1">// 아래 Script는 개별 이벤트 발생시 로그를 전송하기 위한 구역. 결제 완료 페이지이므로, PV이벤트 와 결제완료 전환이벤트를 전송함</span>
 
    <span class="c1">// (4) PV이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV이벤트 전송</span>
 
    <span class="c1">// (5) 결제완료 전환이벤트 전송</span>
 
    <span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 이벤트 정보 담을 object 생성</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// object에 구매(purchase) 이벤트 세팅</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[</span>       <span class="c1">// 전환이벤트 행동의 내용 및 대상에 대한 정보 기술</span>
          <span class="p">{</span> <span class="c1">// #1번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7786</span><span class="dl">"</span>                  <span class="c1">//string 상품 id (필수), 네이버쇼핑 상품 EP로 전달하는 상품ID와 동일해야 함</span>
          <span class="p">},</span>              
          <span class="p">{</span> <span class="c1">// #2번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8123</span><span class="dl">"</span>                   <span class="c1">//string 상품 id (필수), 네이버쇼핑 상품EP로 전달하는 상품ID와 동일해야 함</span>
          <span class="p">}</span>
    <span class="p">];</span>  
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">50000</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// item #1, item #2 2개의 총 구매비용</span>
 
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환이벤트 정보를 담은 object를 서버에 전송(위 item #1, #2 포함)</span>
<span class="p">}</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>구매완료(purchase)가 아닌 다른 전환이벤트의 경우, <code class="language-plaintext highlighter-rouge">_conv.value</code> 는 넣지 않으셔도 됩니다.</p>

<p>(c) 위 전환이벤트 외에 다른 전환이벤트도 설치하시는 것은 문제 없으며, 이 경우 전환이벤트type코드 입력 외에 다른 필수사항은 없습니다.</p>

<h3 id="242-전환이벤트-종류-및-property-설명">2.4.2. 전환이벤트 종류 및 Property 설명</h3>

<p>전환이벤트에는 
용도가 정해져 있는 총 24종 + 용도가 정해져 있지 않은 사용자정의(custom) 10종 이 존재합니다.</p>

<p>전환이벤트별 명칭, 코드명과 의미는 다음과 같습니다.
Script에 해당 전환이벤트 를 삽입할 경우, 한글 전환이벤트명이 아닌, 반드시 전환이벤트 type 코드명을 넣으셔야 합니다. (예: 구매완료의 경우, _conv.type=’purchase’)</p>

<table>
  <thead>
    <tr>
      <th><strong>전환이벤트명</strong><img width="100" /></th>
      <th><strong>전환이벤트 type 코드명</strong><img width="100" /></th>
      <th><strong>설명</strong><img width="480" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>구매완료</td>
      <td>purchase</td>
      <td>재화/용역 등을 주문완료/결제완료 하였음</td>
    </tr>
    <tr>
      <td>결제 시작</td>
      <td>begin_checkout</td>
      <td>결제를 하기 위한 과정에 들어갔음</td>
    </tr>
    <tr>
      <td>회원가입 완료</td>
      <td>sign_up</td>
      <td>회원가입을 완료하였음</td>
    </tr>
    <tr>
      <td>장바구니 담기</td>
      <td>add_to_cart</td>
      <td>장바구니에 상품을 담았음</td>
    </tr>
    <tr>
      <td>예약 완료</td>
      <td>schedule</td>
      <td>예약을 완료하였음</td>
    </tr>
    <tr>
      <td>스토어 찜/저장</td>
      <td>save_store</td>
      <td>스토어/사이트를 즐겨찾기 등에 저장하였음</td>
    </tr>
    <tr>
      <td>상품 찜/저장</td>
      <td>add_to_wishlist</td>
      <td>재화/용역 등을 찜/즐겨찾기 등에 저장하였음</td>
    </tr>
    <tr>
      <td>문의/상담하기</td>
      <td>inquiry</td>
      <td>문의(상담) 내용을 전달완료함</td>
    </tr>
    <tr>
      <td>전화하기</td>
      <td>call</td>
      <td>전화를 하였음. (전화 버튼을 클릭하였음)</td>
    </tr>
    <tr>
      <td>신청완료</td>
      <td>lead</td>
      <td>(재화/용역에 관심이 생겨서) 연락처 등을 남기고 상담 등을 신청함</td>
    </tr>
    <tr>
      <td>상품 상세보기</td>
      <td>view_product</td>
      <td>특정 상품의 상품상세페이지를 보았음</td>
    </tr>
    <tr>
      <td>컨텐츠 보기</td>
      <td>view_content</td>
      <td>특정 컨텐츠의 상세페이지를 보았음</td>
    </tr>
    <tr>
      <td>검색하기</td>
      <td>search</td>
      <td>사이트 내에서 키워드 검색을 하였음</td>
    </tr>
    <tr>
      <td>공유하기</td>
      <td>share</td>
      <td>특정 컨텐츠를 공유하였음. (공유하기를 클릭하였음)</td>
    </tr>
    <tr>
      <td>쿠폰 발급받기</td>
      <td>clip_coupon</td>
      <td>쿠폰을 발급 받았음.</td>
    </tr>
    <tr>
      <td>상품/서비스 목록 보기</td>
      <td>view_item_list</td>
      <td>상품/서비스의 목록들을 보았음</td>
    </tr>
    <tr>
      <td>업체 소개보기</td>
      <td>about_us</td>
      <td>업체에 대해 소개하는 페이지를 보았음.</td>
    </tr>
    <tr>
      <td>서비스 제공자 보기</td>
      <td>staff</td>
      <td>서비스를 제공하는 사람들을 소개하는 페이지를 보았음</td>
    </tr>
    <tr>
      <td>사업장 위치 보기/길찾기</td>
      <td>location</td>
      <td>사업장의 위치 혹은 사업장을 가는 방법을 소개하는 페이지를 보았음</td>
    </tr>
    <tr>
      <td>이벤트/프로모션 신청</td>
      <td>promotion</td>
      <td>이벤트나 프로모션을 신청하였음.</td>
    </tr>
    <tr>
      <td>의사소통채널 추가</td>
      <td>add_contact_method</td>
      <td>메신저 추가, SNS팔로우 등 업체에 보다 쉽게 컨택할 수 있도록 <br />의사소통 채널을 추가하였음.</td>
    </tr>
    <tr>
      <td>마케팅 수신동의</td>
      <td>opt_in_marketing</td>
      <td>업체에서 마케팅 정보를 고객에게 보내는 데에 고객이 동의하였음</td>
    </tr>
    <tr>
      <td>구독</td>
      <td>subscribe</td>
      <td>업체가 정기적으로 정보를 보내는 것을 받는 데에 고객이 동의하였음.</td>
    </tr>
    <tr>
      <td>리뷰/평가 쓰기</td>
      <td>review</td>
      <td>상품/서비스에 대한 평가를 작성하였음</td>
    </tr>
    <tr>
      <td>사용자정의</td>
      <td>custom001 부터 <br />custom010 까지</td>
      <td>용도가 정해져 있지 않은 이벤트입니다. 자유롭게 활용 가능합니다. <br />10개 타입이 있습니다. (예: custom007)</td>
    </tr>
  </tbody>
</table>

<p>각 전환이벤트별로 전환 행동에 대한 세부내역 혹은 전환행동의 대상에 대한 정보(Property)를 서버에 전송할 수 있습니다. 
전환이벤트에 추가되는 세부정보(Property)에는 다음과 같은 것들이 있습니다.</p>

<table>
  <thead>
    <tr>
      <th><strong>Property항목</strong></th>
      <th><strong>세부항목</strong></th>
      <th><strong>Data Type</strong></th>
      <th><strong>의미</strong></th>
      <th><strong>예시</strong></th>
      <th><strong>Script예제</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>id</td>
      <td> </td>
      <td>string</td>
      <td>해당 전환 이벤트의 이용자 행동 ID. (광고주 사이트에서 생성하는 정보)</td>
      <td>주문번호: 20231220</td>
      <td>_conv.id: "20231220"</td>
    </tr>
    <tr>
      <td>items(#1)</td>
      <td>item.id</td>
      <td>string</td>
      <td>행동의 대상이 되는 재화/용역의 ID (예: 상품ID)</td>
      <td>상품번호: 7789</td>
      <td>_conv.items=[<br />  {  <br />    id:"7786",</td>
    </tr>
    <tr>
      <td> </td>
      <td>item.name <br />(WARNING!)</td>
      <td>string</td>
      <td>행동의 대상이 되는 재화/용역의 이름</td>
      <td>상품명: 설화수 탄력크림</td>
      <td>name:"설화수 탄력크림",</td>
    </tr>
    <tr>
      <td> </td>
      <td>item.category</td>
      <td>string</td>
      <td>재화/용역의 카테고리</td>
      <td>카테고리: 화장품/스킨케어/크림</td>
      <td>category:"화장품/스킨케어/크림",</td>
    </tr>
    <tr>
      <td> </td>
      <td>item.quantity</td>
      <td>number</td>
      <td>재화/용역의 수량</td>
      <td>구매(결제)수량: 3개</td>
      <td>quantity:3,</td>
    </tr>
    <tr>
      <td> </td>
      <td>item.payAmount</td>
      <td>number</td>
      <td>재화/용역의 금액 (위 재화/용역 ID에 대한 총 결제금액. 단가 아님)</td>
      <td>결제금액: 90,000원</td>
      <td>payAmount:90000,</td>
    </tr>
    <tr>
      <td> </td>
      <td>item.option</td>
      <td>string</td>
      <td>재화/용역의 옵션</td>
      <td>용량: 120ml</td>
      <td>option: "용량:120" <br />  }<br />]</td>
    </tr>
    <tr>
      <td>items(#2)</td>
      <td>(위 #1 내용 반복)</td>
      <td>…</td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>value</td>
      <td> </td>
      <td>string</td>
      <td>복수개의 재화/용역의 전체 금액 (배송비 제외 권장)</td>
      <td>결제금액: 50,000원</td>
      <td>_conv.value="50000"</td>
    </tr>
  </tbody>
</table>

<blockquote class="block-warning">
  <h5 id="warning-2">WARNING</h5>
  <p>item.name (상품명)의 값에 single/double quotation이 있는 경우 광고전환추적을 위한 Script에 에러가 발생할 수 있습니다. item.name 의 값에서 single/double quotation을 제거하거나, 다른 문자로 대체해주시는 것을 강력하게 권장합니다.</p>
</blockquote>

<hr />
<h2 id="25-전환이벤트-와-property-및-pvpage-view이벤트-전송-script-예시">2.5. 전환이벤트 와 Property 및 PV(page view)이벤트 전송 Script 예시</h2>
<p>전환이벤트 와 Property 및 PV(page view)이벤트를 함께 전송하는 페이지의 전체적인 Script의 모습은 다음과 같습니다. (구매완료 페이지를 예시로 설명드립니다)</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>// (1) wcslog.js import
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
 
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>       <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
 
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-host</span><span class="dl">"</span><span class="p">);</span>
 
    <span class="c1">// 아래 Script는 개별이벤트 발생시 로그를 전송하기 위한 구역. 결제 완료 페이지이므로, PV이벤트 와 결제완료 전환이벤트를 전송함</span>
 
    <span class="c1">// (4) PV이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV이벤트 전송</span>
 
    <span class="c1">// (5) 결제완료 전환이벤트 전송</span>
 
    <span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 전환이벤트 정보 담을 object 생성</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span> <span class="p">;</span> <span class="c1">// object에 구매(purchase) 이벤트 세팅</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">20231220</span><span class="dl">"</span><span class="p">;</span> <span class="c1">// 아래 item전체 결제 행동에 대한 번호(예: 주문번호)</span>
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[</span>       <span class="c1">// 전환이벤트 행동의 내용 및 대상에 대한 정보 기술</span>
          <span class="p">{</span> <span class="c1">// #1번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7786</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">설화수 탄력크림</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//string 상품 명 (필수)</span>
                <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">화장품/스킨케어/크림</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">//string 카테고리</span>
                <span class="na">quantity</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
                <span class="na">payAmount</span><span class="p">:</span> <span class="mi">90000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수), 1개당 3만원, 3개 9만원</span>
                <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">용량:120</span><span class="dl">"</span> <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
           <span class="p">},</span>              
           <span class="p">{</span> <span class="c1">// #2번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8123</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">윤조에센스</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//string 상품 명 (필수)</span>
                <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">화장품/스킨케어/에센스</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">//string 카테고리</span>
                <span class="na">quantity</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
                <span class="na">payAmount</span><span class="p">:</span> <span class="mi">200000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수), 1개는 10만원, 2개 20만원</span>
                <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">용량:120</span><span class="dl">"</span> <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
            <span class="p">}</span>
    <span class="p">];</span>  
 
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">290000</span><span class="dl">"</span><span class="p">;</span>     <span class="c1">// item별 결제금액의 합</span>
 
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환이벤트 정보를 담은 object를 서버에 전송(위 item #1, #2 포함)</span>
<span class="p">}</span>

<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>만약, PV이벤트와 전환이벤트로그 전송이 서로 다른 시점에 발생한다면, 아래와 같은 (a), (b), (c) Script에서, 페이지 로딩시 (a)를 먼저 로딩 하고, (b), (c)는 필요한 시점에 해당 Script가 동작하도록 설정하시면 됩니다. 
((b) PV(page view)용 Script는 기본적으로 모든 페이지에서, 페이지가 열릴 때 마다 실행이 되어야 합니다. (c) 전환이벤트 용 Script는 행동이 완료되는 시점에 실행 되도록 구현하는 것을 권장 합니다. 이렇게 구현이 어려운 경우 행동이 시작되는 시점(예: 버튼 클릭)에 실행이 되도록 구현하는 것도 가능합니다.)</p>

<h4 id="-a-페이지별-공통설정-script"># (a) 페이지별 공통설정 Script</h4>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
    
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>      <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
  
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-domain</span><span class="dl">"</span><span class="p">);</span>
 <span class="p">}</span>
 
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h4 id="-b-pvpage-view-이벤트-전송-script"># (b) PV(Page View) 이벤트 전송 Script</h4>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
 <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
     
    <span class="c1">// (2) 각 사이트별 식별자 설정 </span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>       <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (4) PV 이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV 이벤트 전송</span>
  <span class="p">}</span>
 
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<h4 id="-c-전환이벤트-전송-script"># (c) 전환이벤트 전송 Script</h4>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
 <span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
     
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>     <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
 
    <span class="c1">// (5) 결제완료 전환 이벤트 전송</span>
    <span class="kd">var</span> <span class="nx">_conv</span> <span class="o">=</span> <span class="p">{};</span> <span class="c1">// 이벤트 정보 담을 object 생성</span>
   
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">purchase</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// object에 구매(purchase) 이벤트 세팅  </span>
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">20231220</span><span class="dl">"</span> <span class="c1">// 전환행동에 대한 ID (구매의 경우 주문번호 권장)</span>
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">items</span> <span class="o">=</span> <span class="p">[</span>       <span class="c1">// 구매(purchase) 이벤트에 대한 세부 내용(Property) 세팅</span>
          <span class="p">{</span> <span class="c1">// #1번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7786</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">설화수 탄력크림</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//string 상품 명 (필수)</span>
                <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">화장품/스킨케어/크림</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">//string 카테고리</span>
                <span class="na">quantity</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
                <span class="na">payAmount</span><span class="p">:</span> <span class="mi">90000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수), 1개당 3만원, 3개 9만원</span>
                <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">용량:120</span><span class="dl">"</span> <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
           <span class="p">},</span>              
           <span class="p">{</span> <span class="c1">// #2번 item</span>
                <span class="na">id</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8123</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">//string 상품 id (필수)</span>
                <span class="na">name</span><span class="p">:</span> <span class="dl">"</span><span class="s2">윤조에센스</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//string 상품 명 (필수)</span>
                <span class="na">category</span><span class="p">:</span> <span class="dl">"</span><span class="s2">화장품/스킨케어/에센스</span><span class="dl">"</span><span class="p">,</span>   <span class="c1">//string 카테고리</span>
                <span class="na">quantity</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>                     <span class="c1">//number 결제 수량 (필수)</span>
                <span class="na">payAmount</span><span class="p">:</span> <span class="mi">200000</span><span class="p">,</span>                <span class="c1">//number 결제 금액 (필수), 1개는 10만원, 2개 20만원</span>
                <span class="na">option</span><span class="p">:</span> <span class="dl">"</span><span class="s2">용량:120</span><span class="dl">"</span> <span class="c1">//string 상품 자체의 옵션 (예: 색상 )</span>
            <span class="p">}</span>
    <span class="p">];</span>  
<span class="err">    </span>
    <span class="nx">_conv</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">290000</span><span class="dl">"</span><span class="p">;</span>     <span class="c1">// item별 결제금액(payAmount)의 합       </span>

    <span class="nx">wcs</span><span class="p">.</span><span class="nx">trans</span><span class="p">(</span><span class="nx">_conv</span><span class="p">);</span> <span class="c1">// 전환 이벤트 정보를 담은 object를 서버에 전송</span>
  <span class="p">}</span>
 
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>(a)와 (b)는 사이트의 모든 페이지에서 실행이 되어야 하므로, 합해서 설치하고, (c)는 전환이 발생하는 상황(버튼클릭 혹은 페이지 열림)에만 설치할 수도 있습니다</p>

<p>이 경우 (a)와 (b)을 합한 Script 블록의 형태는 다음과 같습니다.</p>

<h4 id="-a-페이지별-공통설정-script--b-pvpage-view-이벤트-전송-script"># (a) 페이지별 공통설정 Script + (b) PV(Page View) 이벤트 전송 Script</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"//wcs.naver.net/wcslog.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
 
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>
 
<span class="k">if</span> <span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">wcs</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">wcs_add</span><span class="p">)</span> <span class="kd">var</span> <span class="nx">wcs_add</span> <span class="o">=</span> <span class="p">{};</span>
    
    <span class="c1">// (2) 각 사이트별 식별자 설정</span>
    <span class="nx">wcs_add</span><span class="p">[</span><span class="dl">"</span><span class="s2">wa</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">AccountId</span><span class="dl">"</span><span class="p">;</span>      <span class="c1">// 사이트 식별자 (=네이버공통키, na_account_id)</span>
  
    <span class="c1">// (3) 광고 전환추적을 위한 cookie domain설정</span>
    <span class="nx">wcs</span><span class="p">.</span><span class="nx">inflow</span><span class="p">(</span><span class="dl">"</span><span class="s2">site-domain</span><span class="dl">"</span><span class="p">);</span>

    <span class="c1">// (4) PV 이벤트 전송</span>
    <span class="nx">wcs_do</span><span class="p">();</span> <span class="c1">// PV 이벤트 전송</span>
 <span class="p">}</span>
 
<span class="nt">&lt;/script&gt;</span>
</code></pre></div></div>

<p>Version: 20240702_01</p>
</section>
            </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div></div>
    </div>
</div>

<!-- introduce mathjax support -->
<script>
window.MathJax = {
  tex: {
    inlineMath: [ ['$', '$'], ['\\(', '\\)'] ]
  },
  svg: {
    fontCache: 'global'
  }
};
</script>
<script
  type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
</script>


<!-- introduce per-page mermaid support -->


<!-- introduce mathjax support -->
<script>
    function fixes_chrome_anchors() {
        let chrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);
        if (window.location.hash && chrome) {
            setTimeout(function () {
                var hash = window.location.hash;
                window.location.hash = "";
                window.location.hash = hash;
            }, 300);
        }
    }

    if (document.readyState === "loading") {
        // Loading hasn't finished yet
        document.addEventListener("DOMContentLoaded", fixes_chrome_anchors);
    } else {
        // `DOMContentLoaded` has already fired
        fixes_chrome_anchors();
    }
</script>


                        <a href="/conversion-tracking/" class="navigation navigation-prev navigation-unique" aria-label="Previous page: 네이버광고 전환분석 가이드">
                            <i class="fa fa-angle-left"></i>
                        </a>
                    

                    
                        <a href="/conversion-tracking/pages/02_ecom_platform_guide/" class="navigation navigation-next navigation-unique" aria-label="Next page: 네이버광고 전환분석을 위한 임대몰 설정가이드">
                            <i class="fa fa-angle-right"></i>
                        </a>
                    
                </div>
            </div>

            <script>
            var gitbook = gitbook || [];
            gitbook.push(function() {
                gitbook.page.hasChanged({
    "page": {
        "title": "Introduction",
        "level": "1.1",
        "depth": 1,
        
        "next": {
            "title": "네이버광고 전환분석을 위한 임대몰 설정가이드",
            "level": "1.2",
            "depth": 1,
            "path": "_pages/02_ecom_platform_guide.md",
            "ref": "_pages/02_ecom_platform_guide.md",
            "articles": []
        },
        
        "dir": "ltr"
    },    "config": {
        "plugins": ["fontsettings", "highlight", "livereload", "lunr", "search", "sharing", "theme-default", "livereload"],
        "styles": {
            "ebook": "styles/ebook.css",
            "epub": "styles/epub.css",
            "mobi": "styles/mobi.css",
            "pdf": "styles/pdf.css",
            "print": "styles/print.css",
            "website": "styles/website.css"
        },
        "pluginsConfig": {
            "expandable-chapter-small2": {
                "articlesExpand": true,
            },
            "fontsettings": {
                "family": "sans",
                "size": 2,
                "theme": "white"
            },
            "highlight": {},
            "livereload": {},
            "lunr": {
                "ignoreSpecialCharacters": false,
                "maxIndexSize": 1000000
            },
            "search": {},            "sharing": {
                "facebook": false,

                "google": false,

                "github": true,
              
                "github_link": "https://github.com/NAVER-ConversionTracking",
              

                "telegram": false,
                "telegram_link": "https://t.me",

                "instapaper": false,

                "twitter": false,
              

                "vk": false,

                "weibo": false,

                "all": ["github"]
            },
"theme-default": {
                "showLevel": false,
                "styles": {
                    "ebook": "styles/ebook.css",
                    "epub": "styles/epub.css",
                    "mobi": "styles/mobi.css",
                    "pdf": "styles/pdf.css",
                    "print": "styles/print.css",
                    "website": "styles/website.css"
                }
            },
        },
        "theme": "default",
        "author": "Tao He",
        "pdf": {
            "pageNumbers": true,
            "fontSize": 12,
            "fontFamily": "Arial",
            "paperSize": "a4",
            "chapterMark": "pagebreak",
            "pageBreaksBefore": "/",
            "margin": {
                "right": 62,
                "left": 62,
                "top": 56,
                "bottom": 56
            }
        },
        "structure": {
            "langs": "LANGS.md",
            "readme": "README.md",
        },
        "variables": {},
        "title": "네이버광고 전환분석 가이드",
        "language": "en",
        "gitbook": "*"
    },
    "file": {
        "path": "_pages/01_script_guide_wcstrans.md",
        "mtime": "",
        "type": "markdown"
    },
    "gitbook": {
        "version": "",
        "time": "2024-07-02 15:14:30 +0900"
    },
    "basePath": "/conversion-tracking",
    "book": {
        "language": ""
    }
});
            });
            </script>
        </div><script src="/conversion-tracking/assets/gitbook/gitbook.js"></script>
<script src="/conversion-tracking/assets/gitbook/theme.js"></script>

<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-expandable-chapters-small2/expandable-chapters-small.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-search-pro/search.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-sharing/buttons.js"></script>
<script src="/conversion-tracking/assets/gitbook/gitbook-plugin-splitter/splitter.js"></script>

<!--
<script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
<script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
<script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
<script src="../gitbook/gitbook-plugin-search/search.js"></script>
-->

<script src="/conversion-tracking/assets/gitbook/custom.js"></script>
<script src="/conversion-tracking/assets/gitbook/custom-local.js"></script>

</body>
</html>